---
title: "Jack's Planner"
author: "Filofax"
date: "`r format(Sys.Date(), '%b %d %Y')`"
output: jrIdentity::readthedown
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## About

I use google calendar to plan and distribute my workload. Planned works are
added as calendar events, with a client and project ID in the event
description.

Internal policy requires the upkeep of a google sheet to summarise all upcoming
and planned works. This report was created to summarise my upcoming planned
works, as according to my google calendar, in the format required for our
internal google sheet.

```{python python-imports, echo=FALSE}
from jrtimeman.base import Planner
```

```{python fetch-plans, echo=FALSE}
planner = Planner()
plans = planner.get_plans()
```

```{python display-plans, echo=FALSE, results='asis'}
for week in plans["week"].unique():
    week_events = plans[plans["week"] == week]
    print(f"### Week {week}")
    print(week_events[["proj", "allotted"]].astype(str).to_markdown(index=False))
```
